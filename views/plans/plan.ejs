<!DOCTYPE html>
<html lang="en">

<!-- Head tag content -->
<%- include('../partials/_head.ejs') %>

<body>
    <!-- Navbar -->
    <%- include('../partials/_nav.ejs') %>

    <div class="show-grid">
        <div class="show-wrapper">
            <!-- Hero Image -->
            <section class="hero show-hero">
                <div id="show-img-div" class="hero-body">
                    <img class="show-img" src="https://i.pinimg.com/originals/d1/c9/d2/d1c9d27ca2f4cf78e19eccfeee90cf3d.jpg" alt="">
                </div>
            </section>

            <div class="show-box-text-cont">
               
            </div>
<% if(plan) { %>            <!-- Circles with Icons -->
        <form action="/plans/<%= plan.id %>?_method=PUT" method="POST">
            <div class="circles">
                <div class="circle">
                    <div id="photos-circle" class="inner-circle"></div>
                </div>
            
                    
            <!-- calander input -->
                <hr id="pad-hr">
                    <p><!-- intentionally left empty as not to break the css --></p>
                       
                            <input name="date" type="date" data-start-date="10/24/2019">

                    <hr id="pad-hr">
                   
                </div>
                
            <!-- Drop down for trail selection -->
            <div class="select mb-5"> 
                <select name="trail" >
                    <% trails.forEach(trail => { %>
                        <option value="<%= trail.id %>">
                            <%= trail.name %>
                            : <%= trail.location %>
                        </option>
                    <%  }) %>
                </select>    
            </div><input type="submit" value="submit" class="button is-link">
        </form>
   
    <!-- gear input -->
    <form action="/plans/<%= plan.id %>/gear" method="POST">
        <div class="field">
            <label for="gear" class="label">Add Gear</label>
                <div class="control">
                    <textarea name="gear" class="textarea" id="gear" placeholder="Input the gear you're going to need here!" ></textarea>
                </div><input id="addGear" type="submit" value="Add Gear" class="button is-link">
        </div>
    </form>
            <hr id="pad-hr">
    
    <!-- yes I know gear is already plural -->
           
        <% plan.gear.forEach(gear => { %>
            <div class="gear">
        <p class="gear">
            <br>
            <span>- <%= gear %></span>
        </p>
        <% }) %>
            
        <div>
            <form action="/plans/<%= plan.id %>?_method=DELETE" method="POST">
            <input id="removeGear" type="submit" value="Remove Gear" class="button is-link">
            </form>
        </div>
        <hr id="pad-hr">
    </div>
        
   

      <!--  testing things down here -->
      <p><%= plan.trail_id %></p>

      <!--  button for deleting the current plan  -->

<form action="/plans/<%= plan.id %>/delete?_method=DELETE" method="POST">
    <input id="deletePlan" type="submit" value="deletePlan" class="button is-link">
</form>

<% } else { %>
    
    <!-- Create New Plan Form  -->
    

    <form action="/plans/create" method="POST">
        <div class="circles">
            <div class="circle">
                <div id="photos-circle" class="inner-circle"></div>
            </div>
        
                
        <!-- calander input -->
            <hr id="pad-hr">
                <p><!-- intentionally left empty as not to break the css --></p>
                   
                        <input name="date" class="input" type="date" data-start-date="10/24/2019">

                <hr id="pad-hr">
               
            </div>
            
        <!-- Drop down for trail selection -->
        <div class="select mb-5"> 
            <select name="trail_id" >
                <% trails.forEach(trail => { %>
                    <option value="<%= trail.id %>">
                        <%= trail.name %>
                        : <%= trail.location %>
                    </option>
                <%  }) %>
            </select>    
        </div><input type="submit" value="submit" class="button is-link">
    </form>

    <hr id="pad-hr">


    <h3>Lets Make a Plan</h3>

</div>

    <% } %>

    
        </div>
    </div>
</body>
</html>